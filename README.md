# discord_economy_bot_rus
Guide Book по созданию Discord бота с использованием sqlite3 

Дата написания данного гайда 05.05.2021 Библиотека discord.py может обновляться, поэтому после крупных патчей разработка бота может отличаться. В любом случае ближайшие несколько месяцев данный гайд будет актуален.

**Что нам потребуется?:**
1. Стабильное интернет соединение
2. Знания языка Python на неплохом уровне
3. Умение "гуглить" и находить нужную информацию
4. Среда для написания кода
5. Желательно понимать что такое DataBase и как с ним работать используя библиотеку sqlite3



Я советую для разработки бота создать отдельный сервер в Дискорде, где мы будем проверять нашего бота, потому что почти ни у кого не получается запустить сложный код с первого раза, а спамить другим не очень хочется.

Создание Application'a:

Для начала нам нужно создать Discord Application, для этого мы должны перейти по этой ссылке: https://discord.com/developers/applications. После успешного входа в ваш аккаунт Discord, вам нужно нажать на кнопку New Application и выбрать имя для приложения. ВАЖНО: ИМЯ ДЛЯ САМОГО БОТА ДИСКОРДА МЫ БДЕМ НАСТРАИВАТЬ ПОЗЖЕ.

После создания Application'а мы должны перейти во вкладку Bot, а затем нажать на кнопку Add Bot.

Если у вас появилось зеленая надпись по типу: A wild bot has appeared!, значит вы всё сделали правильно и бот у вас уже создан.

**Подключаем нашего бота к серверу:**

Для того чтобы подключить бота к вашему серверу Дискорд, нужно следовать простым инструкциям:

1. Нужно получить Client_ID вашего бота. Для этого мы переходим во вкладку General Information и копируем его нажав на кнопку Copy.


2. Копируем эту ссылку ==> https://discordapp.com/oauth2/authorize?&client_id=(тут)&scope=bot&permissions=8


3. В эту ссылку вместо слова "тут" вставляем наш Client_ID. Скобки естественно убираем. Доп. информация: В нашей ссылке bot&permissions=8 означает что наш permissions integer равен 8. Проще говоря, это число отвечает за то, какие права будут выданы боту при подключении. Этот код можно узнать во вкладке Bot (в которой мы создавали бота). Пролистав вниз, вы сможете сами выбрать нужные вам права, но я советую оставить 8, так как если вы будете сами выбирать права, могут произойти казусные ситуации при работе с ботом.


4. После создания нашей ссылки мы переходим по ней, выбираем сервер на который хотите пригласить бота и нажимаем кнопку Авторизовать. После прохождения капчи наш бот успешно присоединится к серверу, но будет оффлайн. Не пугайтесь, это нормально, ведь наш бот еще не запущен.

**Создание проекта:**

Ну вот мы и готовы начать писать код для нашего прекрасного бота. Если вы знаете Python на ОЧЕНЬ низком уровне, я советую воздержаться от создания ботов и заняться чем нибудь более простым.

Для начала я советую создать пустую папку где мы будем хранить все файлы для нашего бота.

Затем если у вас не установлена библиотека discord.py, вам нужно её устновить. Для этого переходим в командную строку и пишем: pip install discord.py
Внимание, для установки библиотек требуется pip, если он у вас не установлен, то гугл в помощь ^_^

После успешной установки библиотеки, переходим в вашу любимую среду разработки, в моём случае это PyCharm. Затем создаем новый файл Python файл с названием "main" (такое название не даст вам запутаться) и расширением .py и сразу сохраняем его в нашей папке с проектом.


**Подготовка к работе с sqlite3:**

Для того чтобы нам работать с sqlite3 мы можем использовать cmd (Командную строку) или же использовать очень удобное приложение которое называется
DB Browser for sqlite3. Установить его можно здесь: https://sqlitebrowser.org/ (Создание таблиц я буду проводить в этой программе)

Переходим в установленный DB Browser и нажимаем на кнопку "Новая база данных". Затем выбираем путь к нашему проекту и указываем название, я поставил "bot_test".

Можно переходить к созданию таблиц для работы. Самая первая таблица будет называться users, в неё мы будем записывать данные и пользователях (никнеймы, id, "упоминания и т.д.")

Нажимаем на кнопку создать таблицу и указываем в названии "users". Затем записываем в таблицу наши данные, а именно:
* "id" INTEGER,
* "nickname"   TEXT,
* "mention"	TEXT,
* "money" INTEGER

После всех махинаций наша таблица в режиме пред.осмотра должна выглядеть так:
```
CREATE TABLE "users" (
	"id"	INTEGER,
	"nickname"	TEXT,
	"mention"	TEXT,
	"money"	INTEGER
);
```

Создаем вторую таблицу, которая называется shop (в нем будем хранить данные о товарах):
```
CREATE TABLE "shop" (
	"name"	TEXT,
	"type"	TEXT,
	"cost"	INTEGER,
	"id"	INTEGER
);
```